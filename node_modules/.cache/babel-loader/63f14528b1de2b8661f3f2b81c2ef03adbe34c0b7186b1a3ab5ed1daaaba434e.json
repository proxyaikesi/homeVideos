{"ast":null,"code":"import { number } from 'echarts';\nimport { fn } from 'moment-timezone';\nimport { reactive, ref, onMounted, onUpdated, useSlots, watch } from 'vue';\nexport default {\n  props: ['mp4Url', 'isplay', 'inNum'],\n  setup(props) {\n    const slot = useSlots();\n    const num = reactive({\n      videoNum: number\n    });\n    const refmp4 = ref(Array);\n    num.videoNum = props.isplay;\n    onUpdated(() => {\n      if (props.inNum == props.isplay) {\n        num.videoNum = props.isplay;\n        console.log(' refmp4.value', refmp4.value);\n        setTimeout(() => {\n          refmp4.value.play();\n        }, 500);\n      } else {\n        refmp4.value.pause();\n        refmp4.value.currentTime = 0;\n      }\n\n      // console.log(refmp4.value.play()); \n    });\n\n    function fnn(index) {\n      console.log(refmp4.value.length);\n      // for(var i =0; i < refmp4.value.length; i++){\n      //     console.log('hhhhhhhhhhhhhhhhhhhhhhhh',index);\n      // }\n    }\n\n    watch(props, (newVal, oldVal) => {\n\n      // if(oldVal.isplay ==  num.videoNum){\n      //     console.log('监听引用类型数据dataList',num.videoNum,newVal.isplay)\n      // }else{\n      // console.log('监听引aaaaaaaaa', newVal.isplay)\n      // console.log('sdsd', refmp4.value);\n\n      // refmp4.value.play()\n      // }\n\n      // console.log('new', newVal.isplay)\n      // console.log('old', oldVal.isplay)\n    });\n    return {\n      refmp4,\n      num\n    };\n  }\n};","map":{"version":3,"names":["number","fn","reactive","ref","onMounted","onUpdated","useSlots","watch","props","setup","slot","num","videoNum","refmp4","Array","isplay","inNum","console","log","value","setTimeout","play","pause","currentTime","fnn","index","length","newVal","oldVal"],"sources":["D:\\vue3\\video\\src\\components\\video.vue"],"sourcesContent":["<template>\r\n    <video id=\"videos\" ref=\"refmp4\" autoplay  preload=\"auto\" :src=\"mp4Url\" >\r\n        <source src=\"999\">\r\n    </video>\r\n</template>\r\n<script>\r\nimport { number } from 'echarts'\r\nimport { fn } from 'moment-timezone'\r\nimport { reactive, ref, onMounted, onUpdated, useSlots, watch } from 'vue'\r\nexport default {\r\n    props: ['mp4Url', 'isplay','inNum'],\r\n    setup(props) {\r\n\r\n        const slot = useSlots()\r\n        const num = reactive({\r\n            videoNum: number\r\n        })\r\n        const refmp4 = ref(Array);\r\n        num.videoNum = props.isplay\r\n        onUpdated(() => {\r\n            if (props.inNum == props.isplay) {\r\n                num.videoNum = props.isplay\r\n                console.log(' refmp4.value', refmp4.value);\r\n                setTimeout(()=>{\r\n                    refmp4.value.play()\r\n                    \r\n                },500)\r\n               \r\n            }else{\r\n                refmp4.value.pause()\r\n                refmp4.value.currentTime=0\r\n            }\r\n            \r\n            // console.log(refmp4.value.play()); \r\n        })\r\n        function fnn(index){\r\n           console.log( refmp4.value.length);\r\n            // for(var i =0; i < refmp4.value.length; i++){\r\n            //     console.log('hhhhhhhhhhhhhhhhhhhhhhhh',index);\r\n            // }\r\n        }\r\n        watch(props, (newVal, oldVal) => {\r\n         \r\n\r\n            // if(oldVal.isplay ==  num.videoNum){\r\n            //     console.log('监听引用类型数据dataList',num.videoNum,newVal.isplay)\r\n            // }else{\r\n            // console.log('监听引aaaaaaaaa', newVal.isplay)\r\n            // console.log('sdsd', refmp4.value);\r\n\r\n            // refmp4.value.play()\r\n            // }\r\n\r\n            // console.log('new', newVal.isplay)\r\n            // console.log('old', oldVal.isplay)\r\n        })\r\n        return { refmp4, num }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\nvideo {\r\n    width: 100%;\r\n    height: 830px;\r\n}\r\n\r\nh2 {\r\n    color: #fff;\r\n    position: relative;\r\n    top: 0;\r\n    z-index: 10000;\r\n    font-size: 15px;\r\n\r\n}\r\n</style>\r\n  "],"mappings":"AAMA,SAASA,MAAK,QAAS,SAAQ;AAC/B,SAASC,EAAC,QAAS,iBAAgB;AACnC,SAASC,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,KAAI,QAAS,KAAI;AACzE,eAAe;EACXC,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAC,OAAO,CAAC;EACnCC,KAAKA,CAACD,KAAK,EAAE;IAET,MAAME,IAAG,GAAIJ,QAAQ,CAAC;IACtB,MAAMK,GAAE,GAAIT,QAAQ,CAAC;MACjBU,QAAQ,EAAEZ;IACd,CAAC;IACD,MAAMa,MAAK,GAAIV,GAAG,CAACW,KAAK,CAAC;IACzBH,GAAG,CAACC,QAAO,GAAIJ,KAAK,CAACO,MAAK;IAC1BV,SAAS,CAAC,MAAM;MACZ,IAAIG,KAAK,CAACQ,KAAI,IAAKR,KAAK,CAACO,MAAM,EAAE;QAC7BJ,GAAG,CAACC,QAAO,GAAIJ,KAAK,CAACO,MAAK;QAC1BE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEL,MAAM,CAACM,KAAK,CAAC;QAC1CC,UAAU,CAAC,MAAI;UACXP,MAAM,CAACM,KAAK,CAACE,IAAI,CAAC;QAEtB,CAAC,EAAC,GAAG;MAET,CAAC,MAAI;QACDR,MAAM,CAACM,KAAK,CAACG,KAAK,CAAC;QACnBT,MAAM,CAACM,KAAK,CAACI,WAAW,GAAC;MAC7B;;MAEA;IACJ,CAAC;;IACD,SAASC,GAAGA,CAACC,KAAK,EAAC;MAChBR,OAAO,CAACC,GAAG,CAAEL,MAAM,CAACM,KAAK,CAACO,MAAM,CAAC;MAChC;MACA;MACA;IACJ;;IACAnB,KAAK,CAACC,KAAK,EAAE,CAACmB,MAAM,EAAEC,MAAM,KAAK;;MAG7B;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;IAAA,CACH;IACD,OAAO;MAAEf,MAAM;MAAEF;IAAI;EACzB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}