{"ast":null,"code":"import CustomVideo from './video.vue';\nexport default {\n  components: {\n    CustomVideo\n  },\n  data() {\n    return {\n      videos: [{\n        title: 'Video 1',\n        description: 'This is the first video',\n        url: 'video1.mp4'\n      }, {\n        title: 'Video 2',\n        description: 'This is the second video',\n        url: 'video2.mp4'\n      }\n      // Add more videos here\n      ],\n      translateY: 0,\n      startY: 0,\n      lastY: 0\n    };\n  },\n  methods: {\n    handleTouchStart(event) {\n      this.startY = event.touches[0].clientY;\n      this.lastY = this.startY;\n    },\n    handleTouchMove(event) {\n      const deltaY = event.touches[0].clientY - this.lastY;\n      this.lastY = event.touches[0].clientY;\n      this.translateY += deltaY;\n    },\n    handleTouchEnd() {\n      const container = this.$refs.parent;\n      const containerHeight = container.clientHeight;\n      const numVideos = this.videos.length;\n      if (this.translateY > 0) {\n        this.translateY = 0;\n      } else if (Math.abs(this.translateY) >= containerHeight * (numVideos - 1)) {\n        this.translateY = -containerHeight * (numVideos - 1);\n      }\n    }\n  }\n};","map":{"version":3,"names":["CustomVideo","components","data","videos","title","description","url","translateY","startY","lastY","methods","handleTouchStart","event","touches","clientY","handleTouchMove","deltaY","handleTouchEnd","container","$refs","parent","containerHeight","clientHeight","numVideos","length","Math","abs"],"sources":["D:\\vue3\\video\\src\\components\\index.vue"],"sourcesContent":["<template>\r\n  <div class=\"parent\" ref=\"parent\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\">\r\n    <div class=\"container\" :style=\"{ transform: 'translateY(' + translateY + 'px)' }\">\r\n      <custom-video v-for=\"(video, index) in videos\" :key=\"index\" :video=\"video\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomVideo from './video.vue';\r\n\r\nexport default {\r\n  components: {\r\n    CustomVideo\r\n  },\r\n  data() {\r\n    return {\r\n      videos: [\r\n        {\r\n          title: 'Video 1',\r\n          description: 'This is the first video',\r\n          url: 'video1.mp4'\r\n        },\r\n        {\r\n          title: 'Video 2',\r\n          description: 'This is the second video',\r\n          url: 'video2.mp4'\r\n        },\r\n        // Add more videos here\r\n      ],\r\n      translateY: 0,\r\n      startY: 0,\r\n      lastY: 0\r\n    };\r\n  },\r\n  methods: {\r\n    handleTouchStart(event) {\r\n      this.startY = event.touches[0].clientY;\r\n      this.lastY = this.startY;\r\n    },\r\n    handleTouchMove(event) {\r\n      const deltaY = event.touches[0].clientY - this.lastY;\r\n      this.lastY = event.touches[0].clientY;\r\n      this.translateY += deltaY;\r\n    },\r\n    handleTouchEnd() {\r\n      const container = this.$refs.parent;\r\n      const containerHeight = container.clientHeight;\r\n      const numVideos = this.videos.length;\r\n\r\n      if (this.translateY > 0) {\r\n        this.translateY = 0;\r\n      } else if (Math.abs(this.translateY) >= containerHeight * (numVideos - 1)) {\r\n        this.translateY = -containerHeight * (numVideos - 1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.parent {\r\n  overflow: hidden;\r\n  overflow: scroll; /* 或者 overflow-y: scroll; */\r\n  -webkit-overflow-scrolling: touch; /* 让滚动更平滑 */\r\n  position: relative;\r\n  height: 100vh; /* or any fixed height */\r\n  \r\n}\r\n\r\n.container {\r\n  transition: transform 0.3s ease;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n\r\n.custom-video {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n"],"mappings":"AASA,OAAOA,WAAU,MAAO,aAAa;AAErC,eAAe;EACbC,UAAU,EAAE;IACVD;EACF,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,CACN;QACEC,KAAK,EAAE,SAAS;QAChBC,WAAW,EAAE,yBAAyB;QACtCC,GAAG,EAAE;MACP,CAAC,EACD;QACEF,KAAK,EAAE,SAAS;QAChBC,WAAW,EAAE,0BAA0B;QACvCC,GAAG,EAAE;MACP;MACA;MAAA,CACD;MACDC,UAAU,EAAE,CAAC;MACbC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAACJ,MAAK,GAAII,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;MACtC,IAAI,CAACL,KAAI,GAAI,IAAI,CAACD,MAAM;IAC1B,CAAC;IACDO,eAAeA,CAACH,KAAK,EAAE;MACrB,MAAMI,MAAK,GAAIJ,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAM,GAAI,IAAI,CAACL,KAAK;MACpD,IAAI,CAACA,KAAI,GAAIG,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;MACrC,IAAI,CAACP,UAAS,IAAKS,MAAM;IAC3B,CAAC;IACDC,cAAcA,CAAA,EAAG;MACf,MAAMC,SAAQ,GAAI,IAAI,CAACC,KAAK,CAACC,MAAM;MACnC,MAAMC,eAAc,GAAIH,SAAS,CAACI,YAAY;MAC9C,MAAMC,SAAQ,GAAI,IAAI,CAACpB,MAAM,CAACqB,MAAM;MAEpC,IAAI,IAAI,CAACjB,UAAS,GAAI,CAAC,EAAE;QACvB,IAAI,CAACA,UAAS,GAAI,CAAC;MACrB,OAAO,IAAIkB,IAAI,CAACC,GAAG,CAAC,IAAI,CAACnB,UAAU,KAAKc,eAAc,IAAKE,SAAQ,GAAI,CAAC,CAAC,EAAE;QACzE,IAAI,CAAChB,UAAS,GAAI,CAACc,eAAc,IAAKE,SAAQ,GAAI,CAAC,CAAC;MACtD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}