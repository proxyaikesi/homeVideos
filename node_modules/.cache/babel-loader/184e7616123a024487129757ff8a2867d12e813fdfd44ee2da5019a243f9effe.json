{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport qs from 'qs';\nimport bus from '../Bus.js';\nimport { mapMutations } from \"vuex\";\nimport store from '@/store/index';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      isActive: false,\n      isLine: false,\n      pswdActive: false,\n      pswdLine: false,\n      reg: /^[a-zA-Z0-9]{6,12}$/\n    };\n  },\n  created() {},\n  computed: {\n    getid() {\n      return this.$store.state.vuserid;\n    }\n  },\n  methods: {\n    ...mapMutations([\"user_login\"]),\n    mouseenter($event) {\n      if (!this.isActive) {\n        // console.log($event.currentTarget.className=\" iptline\",'1111111111111111111');\n        // console.log($event.currentTarget.className=\" pswdline\",'1111111111111111111');\n      } else {\n        // console.log($event.currentTarget.className=\"active\");\n        // console.log($event.currentTarget.className=\" active\",'1111111111111111111');\n      }\n    },\n    mouseleave($event) {\n      // if(this.isActive == false){\n      //     console.log($event.currentTarget.className=\"\",'删除active');\n      //     // console.log($event.currentTarget.className=\"\",'删除active');\n      // }\n    },\n    increment() {\n      this.$store.state.vuserid += 1;\n    },\n    iptfocus() {\n      this.isActive = !this.isActive;\n    },\n    iptblur() {\n      this.isActive = !this.isActive;\n    },\n    pswdfocus() {\n      this.pswdActive = !this.pswdActive;\n    },\n    pswdblur() {\n      this.pswdActive = !this.pswdActive;\n    },\n    submitForm() {\n      let params = {\n        user: this.username,\n        pswd: this.password\n      };\n      if (this.reg.test(params.user)) {\n        if (this.reg.test(params.pswd)) {\n          axios.post('http://localhost:3000/login', qs.stringify(params)).then(res => {\n            let data = res.data;\n            console.log('datadatadatadatadatadata', data);\n            if (data.code == 0) {\n              this.$message.error(data.data.msg);\n            } else if (data.code == 2) {\n              this.$message.error(data.data.msg);\n            } else if (data.code == 1) {\n              this.user_login(res.data);\n              this.$message({\n                message: '登陆成功',\n                type: 'success'\n              });\n              this.$router.push({\n                name: 'Index'\n              });\n            }\n          });\n        } else {\n          this.$message({\n            message: '请输入六到十二以上密码',\n            type: 'warning'\n          });\n        }\n      } else {\n        this.$message({\n          message: '请输入六到十二以上账号',\n          type: 'warning'\n        });\n      }\n    },\n    linkreg() {\n      this.$router.push({\n        name: 'Register'\n      });\n    }\n  },\n  mounted() {\n    console.log('this', this);\n  }\n};","map":{"version":3,"names":["axios","qs","bus","mapMutations","store","data","username","password","isActive","isLine","pswdActive","pswdLine","reg","created","computed","getid","$store","state","vuserid","methods","mouseenter","$event","mouseleave","increment","iptfocus","iptblur","pswdfocus","pswdblur","submitForm","params","user","pswd","test","post","stringify","then","res","console","log","code","$message","error","msg","user_login","message","type","$router","push","name","linkreg","mounted"],"sources":["D:\\vue3\\video\\src\\account\\login.vue"],"sourcesContent":["<template>\r\n    <div class=\"passport-modal\">\r\n        <div class=\"tv-login\">\r\n            <div class=\"tv-cont\">\r\n                <img src=\"../../public/userlogo.png\" alt=\"\">\r\n                <h4>登录 Tv Media</h4>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"iptuser\">\r\n            <p>用户名</p>\r\n            <input v-bind:class=\"{ iptline: isActive,  }\" @focus=\"iptfocus\" @blur=\"iptblur\" type=\"text\"\r\n                v-model=\"username\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"\r\n                >\r\n        </div>\r\n\r\n        <div class=\"iptpswd\">\r\n            <p>密码</p>\r\n            <input v-bind:class=\"{iptline: isActive, }\" @focus=\"pswdfocus\" @blur=\"pswdblur\" type=\"password\"\r\n                v-model=\"password\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"\r\n                >\r\n                <!-- <input v-bind:class=\"{ pswdline: pswdActive, line: pswdLine }\" @focus=\"pswdfocus\" @blur=\"pswdblur\" type=\"text\"\r\n                v-model=\"password\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"> -->\r\n                \r\n        </div>\r\n\r\n        <div class=\"login\" @click=\"submitForm\">登录</div>\r\n        <div class=\"regbottom\" @click=\"linkreg\">没有账户？ 注册</div>\r\n\r\n        <!-- <h2>vuex 中数据{{ $store.state.vuserid }}</h2>\r\n            <h3>计算属性获取显示{{ getid }}</h3>\r\n            <button @click=\"increment\">increment</button> -->\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport axios from 'axios';\r\nimport qs from 'qs'\r\nimport bus from '../Bus.js'\r\nimport { mapMutations } from \"vuex\";\r\n\r\nimport store from '@/store/index'\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            isActive: false,\r\n            isLine: false,\r\n            pswdActive: false,\r\n            pswdLine: false,\r\n            reg: /^[a-zA-Z0-9]{6,12}$/,\r\n        }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n        getid() {\r\n            return this.$store.state.vuserid\r\n        },\r\n\r\n    },\r\n    methods: {\r\n        ...mapMutations([\"user_login\"]),\r\n        mouseenter($event){\r\n            if(!this.isActive ){\r\n                // console.log($event.currentTarget.className=\" iptline\",'1111111111111111111');\r\n                // console.log($event.currentTarget.className=\" pswdline\",'1111111111111111111');\r\n            }else{\r\n                // console.log($event.currentTarget.className=\"active\");\r\n                // console.log($event.currentTarget.className=\" active\",'1111111111111111111');\r\n\r\n            }\r\n           \r\n        },\r\n        mouseleave($event){\r\n            // if(this.isActive == false){\r\n            //     console.log($event.currentTarget.className=\"\",'删除active');\r\n            //     // console.log($event.currentTarget.className=\"\",'删除active');\r\n            // }\r\n        },\r\n        increment() {\r\n            this.$store.state.vuserid += 1\r\n        },\r\n        iptfocus() {\r\n            this.isActive = !this.isActive\r\n        },\r\n        iptblur() {\r\n           \r\n            this.isActive = !this.isActive\r\n        },\r\n        pswdfocus() {\r\n            this.pswdActive = !this.pswdActive\r\n          \r\n\r\n        },\r\n        pswdblur() {\r\n            this.pswdActive = !this.pswdActive\r\n        },\r\n        submitForm() {\r\n            let params = {\r\n                user: this.username,\r\n                pswd: this.password\r\n            }\r\n            if (this.reg.test(params.user)) {\r\n                if (this.reg.test(params.pswd)) {\r\n                    axios.post('http://localhost:3000/login', qs.stringify(params)).then(res => {\r\n                        let data = res.data\r\n                        console.log('datadatadatadatadatadata',data);\r\n                        if (data.code == 0) {\r\n                            this.$message.error(data.data.msg);\r\n                        } else if (data.code == 2) {\r\n                            this.$message.error(data.data.msg);\r\n                        } else if (data.code == 1) {\r\n                            this.user_login(res.data);\r\n                            this.$message({\r\n                                message: '登陆成功',\r\n                                type: 'success'\r\n                            });\r\n                            this.$router.push({\r\n                                name: 'Index'\r\n                            })\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.$message({\r\n                        message: '请输入六到十二以上密码',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n            } else {\r\n                this.$message({\r\n                    message: '请输入六到十二以上账号',\r\n                    type: 'warning'\r\n                });\r\n            }\r\n        },\r\n        linkreg() {\r\n            this.$router.push({\r\n                name: 'Register'\r\n            })\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        console.log('this', this);\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.active{\r\n    box-shadow: inset 0 0 0 2px hsla(240,8%,88%,.4) !important;\r\n}\r\n.tv-login {\r\n    width: 440px;\r\n    height: 55px;\r\n    margin: 0 auto 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.tv-login .tv-cont {\r\n    display: inline-flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.tv-login .tv-cont h4 {\r\n    margin: 0px;\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    margin-left: 20px;\r\n}\r\n\r\n.tv-login .tv-cont img {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n.passport-modal {\r\n    width: 440px;\r\n    height: 340px;\r\n    position: absolute;\r\n    background: #18181B;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    padding: 30px;\r\n}\r\n\r\n.iptuser input {\r\n    width: 440px;\r\n    height: 30px;\r\n    padding: 0px;\r\n    border-radius: 3px;\r\n    border: 0px;\r\n    box-shadow: inset 0 0 0 1px hsla(240,8%,88%,.4);\r\n    background-color: #18181B;\r\n    outline: none;\r\n    text-indent: 0px;\r\n    color:#fff;\r\n}\r\n\r\np {\r\n    width: 440px;\r\n    margin: 22px auto 8px;\r\n    text-align: left;\r\n    color: #f7f7f8;\r\n    font-weight: 800;\r\n    font-size: 13px;\r\n}\r\n\r\n.iptpswd input {\r\n    width: 440px;\r\n    height: 30px;\r\n    padding: 0px;\r\n    border-radius: 3px;\r\n    border: 0px;\r\n    box-shadow: inset 0 0 0 0.4px #dedee3;\r\n    background-color: #18181B;\r\n    outline: none;\r\n    text-indent: 0px;\r\n    color:#fff;\r\n}\r\n\r\n.iptline {\r\n    outline: 4px solid #A970FF !important;\r\n    border: 5px solid red;\r\n}\r\n\r\n.pswdline {\r\n    outline: 4px solid #A970FF !important;\r\n    border: 5px solid red;\r\n}\r\n/* \r\n.iptuser input:hover {\r\n    box-shadow: inset 0 0 0 1.3px #dedee3;\r\n} */\r\n\r\n.iptpswd input:hover {\r\n    box-shadow: inset 0 0 0 1.3px #dedee3;\r\n}\r\n\r\n.login {\r\n    width: 440px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    border-radius: 5px;\r\n    margin: 30px auto 0px;\r\n    background: #232328;\r\n    opacity: 0.5;\r\n    font-size: 13px;\r\n    color: #adadb8;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n}\r\n\r\n.regbottom {\r\n    width: 440px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    color: #bf94ff;\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    margin: 20px auto 0px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.regbottom:hover {\r\n    background: #35353B;\r\n    border-radius: 5px;\r\n    color: #fff;\r\n}\r\n</style>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}