{"ast":null,"code":"import { number } from 'echarts';\nimport { ref, reactive, watch, onMounted, computed, onUnmounted, onBeforeUnmount } from 'vue';\nexport default {\n  // props: ['mp4Url', 'isplay', 'inNum'],\n  props: {\n    mp4Url: String,\n    isplay: Number,\n    inNum: Number\n  },\n  setup(props) {\n    const isShow = ref(false);\n    const bar_cont = ref(null);\n    const videoRef = ref(null);\n    const isplayer = ref(false); // 使用ref创建响应式数据\n    const state = reactive({\n      currentTime: 0,\n      // 当前时间\n      duration: 0,\n      // 总时间\n      progressBarWidth: 0,\n      // 进度条宽度\n      isDragging: false\n    });\n    watch(() => props.isplay, (newVal, nowVal) => {\n      // console.log('新值:',newVal), '旧值:',nowVal;\n      if (newVal >= 0) {\n        if (props.isplay == props.inNum) {\n          // toggleVideo()\n          isplayer.value = true;\n          console.log('新值:', newVal), '旧值:', nowVal;\n        } else {\n          isplayer.value = false;\n        }\n      }\n    });\n    // 暂停 播放 控制\n    const toggleVideo = () => {\n      if (isplayer.value == false) {\n        videoRef.value.play();\n        videoRef.value.currentTime = 0;\n        console.log('video鼠标点击播放');\n        isplayer.value = true;\n      } else {\n        videoRef.value.pause();\n        console.log('video鼠标点击暂停');\n        isplayer.value = false;\n      }\n    };\n    watch(isplayer, (newValue, oldValue) => {\n      // newValue ? videoRef.value.play() : videoRef.value.pause();\n      if (newValue) {\n        videoRef.value.play();\n        isplayer.value = true;\n      } else {\n        videoRef.value.pause();\n        isplayer.value = false;\n      }\n    });\n    // 组件挂载时添加事件监听\n    onMounted(() => {\n      document.addEventListener('keydown', handleSpacebar);\n    });\n\n    // 组件卸载时移除事件监听\n    onUnmounted(() => {\n      document.removeEventListener('keydown', handleSpacebar);\n      console.log('撒啊啊啊啊啊啊啊啊啊啊啊啊啊');\n    });\n    function handleSpacebar(event) {\n      if (event.code === 'Space' && props.isplay == props.inNum) {\n        event.preventDefault(); // 阻止默认行为\n        console.log('空格video');\n        toggleVideo();\n      }\n    }\n    watch(() => state.currentTime, newTime => {\n      state.progressBarWidth = newTime / state.duration * 100;\n      if (state.progressBarWidth >= 100) {\n        isplayer.value = false;\n      }\n    });\n    // 获取video总时间\n    function setDuration() {\n      videoRef.value && (state.duration = videoRef.value.duration);\n    }\n    // 更新视频播放的当前时间 当视频正在播放时 state.currentTime\n    function updateProgress() {\n      videoRef.value && (state.currentTime = videoRef.value.currentTime);\n    }\n    function handleMouseDown(event) {\n      // 鼠标按下时的逻辑\n      // isDragging.value = true;\n      // console.log('hhhhhhhhhhhhhhhhhhh');\n      event.preventDefault();\n      const bar = event.currentTarget; // 1822px\n      //    console.log(bar);\n      const clickX = event.offsetX;\n      // console.log(clickX);\n      const newTime = clickX / bar.offsetWidth * state.duration;\n      state.currentTime = newTime;\n      videoRef.value.currentTime = newTime;\n    }\n    function seekVideo(event) {\n      const bar = event.currentTarget; // 1822px\n      //    console.log(bar);\n      const clickX = event.offsetX;\n      // console.log(clickX);\n      const newTime = clickX / bar.offsetWidth * state.duration;\n      state.currentTime = newTime;\n      videoRef.value.currentTime = newTime;\n    }\n    const startDrag = event => {\n      state.isDragging = true;\n      event.stopPropagation(); // 阻止事件冒泡\n      document.addEventListener('mousemove', onDrag);\n      document.addEventListener('mouseup', stopDrag);\n      event.preventDefault(); // 阻止默认行为\n    };\n    const onDrag = event => {\n      if (state.isDragging) {\n        event.preventDefault();\n        const barRect = bar_cont.value.getBoundingClientRect();\n        const clickX = event.clientX - barRect.left;\n        isShow.value = true;\n        const newTime = clickX / bar_cont.value.offsetWidth * state.duration;\n        videoRef.value.currentTime = newTime;\n        state.currentTime = newTime;\n        event.preventDefault();\n      }\n    };\n    const stopDrag = event => {\n      if (state.isDragging) {\n        state.isDragging = false;\n        document.removeEventListener('mousemove', onDrag);\n        document.removeEventListener('mouseup', stopDrag);\n        event.stopPropagation();\n        isShow.value = false;\n      }\n    };\n    const formattedCurrentTime = computed(() => formatTime(state.currentTime)); // 当前时间\n    const formattedDuration = computed(() => formatTime(state.duration)); // 总时间\n    function formatTime(time) {\n      const minutes = Math.floor(time / 60).toString().padStart(2, '0');\n      const seconds = Math.floor(time % 60).toString().padStart(2, '0');\n      return `${minutes}:${seconds}`;\n    }\n    return {\n      videoRef,\n      state,\n      stopDrag,\n      setDuration,\n      seekVideo,\n      isShow,\n      startDrag,\n      onDrag,\n      formatTime,\n      formattedCurrentTime,\n      formattedDuration,\n      bar_cont,\n      isplayer,\n      handleMouseDown,\n      toggleVideo,\n      updateProgress\n    };\n  }\n};","map":{"version":3,"names":["number","ref","reactive","watch","onMounted","computed","onUnmounted","onBeforeUnmount","props","mp4Url","String","isplay","Number","inNum","setup","isShow","bar_cont","videoRef","isplayer","state","currentTime","duration","progressBarWidth","isDragging","newVal","nowVal","value","console","log","toggleVideo","play","pause","newValue","oldValue","document","addEventListener","handleSpacebar","removeEventListener","event","code","preventDefault","newTime","setDuration","updateProgress","handleMouseDown","bar","currentTarget","clickX","offsetX","offsetWidth","seekVideo","startDrag","stopPropagation","onDrag","stopDrag","barRect","getBoundingClientRect","clientX","left","formattedCurrentTime","formatTime","formattedDuration","time","minutes","Math","floor","toString","padStart","seconds"],"sources":["D:\\vue3\\video\\src\\components\\video.vue"],"sourcesContent":["<template>\r\n    <div class=\"video-container\">\r\n        <keep-alive>\r\n            <video style=\"height: 90vh;\" ref=\"videoRef\" @click=\"toggleVideo\" preload=\"metadata\"\r\n                @timeupdate=\"updateProgress\" @loadedmetadata=\"setDuration\">\r\n                <source :src=\"mp4Url\" type=\"video/mp4\" />\r\n            </video>\r\n        </keep-alive>\r\n        <div class=\"control-box\">\r\n            <div class=\"control\">\r\n                <div class=\"progress-box\" @mouseover=\"isShow = true\" @mouseleave=\"isShow = false\">\r\n                    <div ref=\"bar_cont\" class=\"progress-bar-container\" :class=\"{ active: isShow }\"\r\n                        @mousedown=\"handleMouseDown\">\r\n                        <div class=\"progress-bar\" :style=\"{ width: state.progressBarWidth + '%' }\"\r\n                            :class=\"{ active: isShow }\"></div>\r\n                        <div class=\"progress-thumb\" :style=\"{ left: state.progressBarWidth + '%' }\"\r\n                            @mousedown=\"startDrag\" :class=\"{ active: isShow, }\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"left-grid\">\r\n                    <div class=\"play-cont\">\r\n                        <span class=\"play-icon\">\r\n                            <div class=\"play-icon\" :class=\"{ 'pause-icon': isplayer }\"></div>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"player-time\">\r\n                        <span>{{ formattedCurrentTime }}</span>\r\n                        <span> / </span>\r\n                        <span>{{ formattedDuration }}</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-grid\">\r\n                    <span>{{ inNum }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { number } from 'echarts';\r\nimport { ref, reactive, watch, onMounted, computed, onUnmounted, onBeforeUnmount, } from 'vue';\r\n\r\nexport default ({\r\n    // props: ['mp4Url', 'isplay', 'inNum'],\r\n    props: {\r\n        mp4Url: String,\r\n        isplay: Number,\r\n        inNum: Number\r\n    },\r\n    setup(props) {\r\n        const isShow = ref(false)\r\n        const bar_cont = ref(null)\r\n        const videoRef = ref(null);\r\n        const isplayer = ref(false); // 使用ref创建响应式数据\r\n        const state = reactive({\r\n            currentTime: 0, // 当前时间\r\n            duration: 0,    // 总时间\r\n            progressBarWidth: 0, // 进度条宽度\r\n            isDragging: false\r\n        });\r\n\r\n        watch(() => props.isplay, (newVal, nowVal) => {\r\n            // console.log('新值:',newVal), '旧值:',nowVal;\r\n            if (newVal >= 0) {\r\n                if (props.isplay == props.inNum) {\r\n                    // toggleVideo()\r\n                    isplayer.value = true\r\n                    console.log('新值:', newVal), '旧值:', nowVal;\r\n                } else {\r\n                    isplayer.value = false\r\n                }\r\n\r\n            }\r\n        });\r\n        // 暂停 播放 控制\r\n        const toggleVideo = () => {\r\n            if (isplayer.value == false) {\r\n                videoRef.value.play();\r\n                videoRef.value.currentTime = 0;\r\n                console.log('video鼠标点击播放');\r\n                isplayer.value = true\r\n                \r\n\r\n            } else {\r\n                videoRef.value.pause();\r\n                console.log('video鼠标点击暂停');\r\n                isplayer.value = false\r\n            }\r\n        };\r\n        watch(isplayer, (newValue, oldValue) => {\r\n            // newValue ? videoRef.value.play() : videoRef.value.pause();\r\n            if (newValue) {\r\n                videoRef.value.play();\r\n                isplayer.value = true\r\n            } else {\r\n\r\n                videoRef.value.pause();\r\n                isplayer.value = false\r\n            }\r\n        })\r\n        // 组件挂载时添加事件监听\r\n        onMounted(() => {\r\n            document.addEventListener('keydown', handleSpacebar);\r\n        });\r\n\r\n        // 组件卸载时移除事件监听\r\n        onUnmounted(() => {\r\n            document.removeEventListener('keydown', handleSpacebar);\r\n            console.log('撒啊啊啊啊啊啊啊啊啊啊啊啊啊');\r\n        });\r\n        function handleSpacebar(event) {\r\n            if (event.code === 'Space' && props.isplay == props.inNum) {\r\n                event.preventDefault(); // 阻止默认行为\r\n                console.log('空格video');\r\n                toggleVideo()\r\n            }\r\n        }\r\n        watch(() => state.currentTime, (newTime) => {\r\n            state.progressBarWidth = (newTime / state.duration) * 100;\r\n            if (state.progressBarWidth >= 100) {\r\n                isplayer.value = false\r\n            }\r\n\r\n        });\r\n        // 获取video总时间\r\n        function setDuration() {\r\n            videoRef.value && (state.duration = videoRef.value.duration)\r\n        }\r\n        // 更新视频播放的当前时间 当视频正在播放时 state.currentTime\r\n        function updateProgress() {\r\n            videoRef.value && (state.currentTime = videoRef.value.currentTime);\r\n        }\r\n        \r\n        function handleMouseDown(event) {\r\n            // 鼠标按下时的逻辑\r\n            // isDragging.value = true;\r\n            // console.log('hhhhhhhhhhhhhhhhhhh');\r\n            event.preventDefault();\r\n            const bar = event.currentTarget; // 1822px\r\n            //    console.log(bar);\r\n            const clickX = event.offsetX;\r\n            // console.log(clickX);\r\n            const newTime = (clickX / bar.offsetWidth) * state.duration;\r\n            state.currentTime = newTime\r\n            videoRef.value.currentTime = newTime;\r\n\r\n        }\r\n\r\n        function seekVideo(event) {\r\n\r\n            const bar = event.currentTarget; // 1822px\r\n            //    console.log(bar);\r\n            const clickX = event.offsetX;\r\n            // console.log(clickX);\r\n            const newTime = (clickX / bar.offsetWidth) * state.duration;\r\n            state.currentTime = newTime\r\n            videoRef.value.currentTime = newTime;\r\n        }\r\n\r\n        const startDrag = (event) => {\r\n            state.isDragging = true;\r\n            event.stopPropagation(); // 阻止事件冒泡\r\n            document.addEventListener('mousemove', onDrag);\r\n            document.addEventListener('mouseup', stopDrag);\r\n\r\n            event.preventDefault(); // 阻止默认行为\r\n\r\n        };\r\n\r\n        const onDrag = (event) => {\r\n            if (state.isDragging) {\r\n                event.preventDefault();\r\n                const barRect = bar_cont.value.getBoundingClientRect();\r\n                const clickX = event.clientX - barRect.left;\r\n\r\n                isShow.value = true\r\n                const newTime = (clickX / bar_cont.value.offsetWidth) * state.duration;\r\n                videoRef.value.currentTime = newTime;\r\n                state.currentTime = newTime\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        const stopDrag = (event) => {\r\n            if (state.isDragging) {\r\n                state.isDragging = false;\r\n                document.removeEventListener('mousemove', onDrag);\r\n                document.removeEventListener('mouseup', stopDrag);\r\n                event.stopPropagation();\r\n                isShow.value = false\r\n            }\r\n        };\r\n        const formattedCurrentTime = computed(() => formatTime(state.currentTime));// 当前时间\r\n        const formattedDuration = computed(() => formatTime(state.duration));// 总时间\r\n        function formatTime(time) {\r\n            const minutes = Math.floor(time / 60).toString().padStart(2, '0');\r\n            const seconds = Math.floor(time % 60).toString().padStart(2, '0');\r\n            return `${minutes}:${seconds}`;\r\n        }\r\n\r\n\r\n        return {\r\n            videoRef,\r\n            state,\r\n            stopDrag,\r\n            setDuration,\r\n            seekVideo,\r\n            isShow,\r\n            startDrag,\r\n            onDrag,\r\n            formatTime,\r\n            formattedCurrentTime,\r\n            formattedDuration,\r\n            bar_cont,\r\n            isplayer,\r\n            handleMouseDown,\r\n            toggleVideo,\r\n            updateProgress,\r\n        \r\n\r\n        };\r\n\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.video-container {\r\n    flex-direction: column;\r\n    display: flex;\r\n    position: relative;\r\n    height: 100%;\r\n    width: 95%;\r\n\r\n    .control-box {\r\n        position: absolute;\r\n        bottom: 0px;\r\n        overflow: hidden;\r\n        width: 100%;\r\n        padding-top: 20px;\r\n        height: 50px;\r\n\r\n        .control {\r\n\r\n            width: 100%;\r\n\r\n            height: 50px;\r\n            background-image: linear-gradient(#3332323d 0%, rgba(0, 0, -9, 0.6) 100%);\r\n\r\n            .progress-box {\r\n                width: 100%;\r\n                height: 13px;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n\r\n                .progress-bar-container.active {\r\n                    height: 6px;\r\n                    background: #cfcfcf;\r\n                    font-size: 30px;\r\n                    width: 100% !important;\r\n                    transform-origin: center;\r\n                }\r\n\r\n                .progress-bar-container {\r\n                    width: 100%;\r\n                    height: 2px;\r\n                    margin-bottom: 8px;\r\n                    background-color: #5e686b;\r\n                    cursor: pointer;\r\n                    border-radius: 3px;\r\n                    transform-origin: center;\r\n\r\n\r\n                    .progress-bar {\r\n                        height: 100%;\r\n                        border-radius: 3px;\r\n                        background-color: #b3baba;\r\n                        position: relative;\r\n                        transition: width 0.5s ease;\r\n                    }\r\n\r\n                    .progress-bar.active {\r\n                        background-color: transparent;\r\n                    }\r\n\r\n                    .progress-thumb {\r\n                        position: absolute;\r\n                        cursor: pointer;\r\n                        bottom: 0;\r\n                        /* z-index: 9999; */\r\n                        top: 16px;\r\n                        left: 100%;\r\n                        width: 13px;\r\n                        display: none;\r\n                        height: 13px;\r\n                        border-radius: 50%;\r\n                        background-color: #ffffff;\r\n                        /* 小圆点的颜色 */\r\n                        transform: translateX(-50%);\r\n                        /* 居中对齐 */\r\n                        box-shadow: 0 0 0 5px rgb(221 221 221 / 31%);\r\n                        cursor: pointer;\r\n                        /* Add any additional styling you want */\r\n                    }\r\n\r\n                    .progress-thumb.active {\r\n                        display: block;\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n            .left-grid {\r\n                float: left;\r\n                height: 30px;\r\n                width: 400px;\r\n                display: flex;\r\n                flex-direction: row;\r\n\r\n                .play-cont {\r\n                    width: 24px;\r\n                    height: 100%;\r\n                    padding: 0 6px 0 16px;\r\n\r\n                    .play-icon {\r\n                        display: -webkit-box;\r\n                        display: -ms-flexbox;\r\n                        display: flex;\r\n                        -webkit-box-pack: center;\r\n                        -ms-flex-pack: center;\r\n                        justify-content: center;\r\n                        -webkit-box-align: center;\r\n                        -ms-flex-align: center;\r\n                        align-items: center;\r\n                        height: 100%;\r\n                        color: #fff;\r\n                        cursor: pointer;\r\n\r\n                        div.play-icon {\r\n                            width: 22px;\r\n                            height: 22px;\r\n                            background: no-repeat;\r\n                            background-image: url('./../../public/icon_svg/player_icon.svg');\r\n                        }\r\n\r\n                        div.pause-icon {\r\n                            width: 22px;\r\n                            height: 22px;\r\n                            background: no-repeat;\r\n                            background-image: url('./../../public/icon_svg/pause_icon.svg');\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .player-time {\r\n                    color: #fff;\r\n                    height: 30px;\r\n                    line-height: 30px;\r\n\r\n\r\n                    span {\r\n                        font-family: PingFang SC, DFPKingGothicGB-Medium, sans-serif;\r\n                        font-size: 15px;\r\n                        font-weight: 1000;\r\n                        line-height: 18px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .right-grid {\r\n                float: right;\r\n                height: 30px;\r\n                width: 400px;\r\n                display: flex;\r\n                flex-direction: row;\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}