{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../public/userlogo.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-2cf6ba7e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"passport-modal\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"tv-login\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"tv-cont\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n}), /*#__PURE__*/_createElementVNode(\"h4\", null, \"登录 Tv Media\")])], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"iptuser\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"用户名\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"iptpswd\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"密码\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    class: _normalizeClass({\n      iptline: $data.isActive\n    }),\n    onFocus: _cache[0] || (_cache[0] = (...args) => $options.iptfocus && $options.iptfocus(...args)),\n    onBlur: _cache[1] || (_cache[1] = (...args) => $options.iptblur && $options.iptblur(...args)),\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.username = $event),\n    onMouseenter: _cache[3] || (_cache[3] = $event => $options.mouseenter($event)),\n    onMouseleave: _cache[4] || (_cache[4] = $event => $options.mouseleave($event))\n  }, null, 34 /* CLASS, HYDRATE_EVENTS */), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    class: _normalizeClass({\n      iptline: $data.isActive\n    }),\n    onFocus: _cache[5] || (_cache[5] = (...args) => $options.pswdfocus && $options.pswdfocus(...args)),\n    onBlur: _cache[6] || (_cache[6] = (...args) => $options.pswdblur && $options.pswdblur(...args)),\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.password = $event),\n    onMouseenter: _cache[8] || (_cache[8] = $event => $options.mouseenter($event)),\n    onMouseleave: _cache[9] || (_cache[9] = $event => $options.mouseleave($event))\n  }, null, 34 /* CLASS, HYDRATE_EVENTS */), [[_vModelText, $data.password]]), _createCommentVNode(\" <input v-bind:class=\\\"{ pswdline: pswdActive, line: pswdLine }\\\" @focus=\\\"pswdfocus\\\" @blur=\\\"pswdblur\\\" type=\\\"text\\\"\\r\\n                v-model=\\\"password\\\"\\r\\n                @mouseenter=\\\"mouseenter($event)\\\"\\r\\n                @mouseleave=\\\"mouseleave($event)\\\"> \")]), _createElementVNode(\"div\", {\n    class: \"login\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.submitForm && $options.submitForm(...args))\n  }, \"登录\"), _createElementVNode(\"div\", {\n    class: \"regbottom\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.linkreg && $options.linkreg(...args))\n  }, \"没有账户？ 注册\"), _createCommentVNode(\" <h2>vuex 中数据{{ $store.state.vuserid }}</h2>\\r\\n            <h3>计算属性获取显示{{ getid }}</h3>\\r\\n            <button @click=\\\"increment\\\">increment</button> \")]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_normalizeClass","iptline","$data","isActive","onFocus","_cache","args","$options","iptfocus","onBlur","iptblur","type","username","$event","onMouseenter","mouseenter","onMouseleave","mouseleave","_hoisted_5","_hoisted_6","pswdfocus","pswdblur","password","_createCommentVNode","onClick","submitForm","linkreg"],"sources":["D:\\vue3\\video\\src\\account\\login.vue"],"sourcesContent":["<template>\r\n    <div class=\"passport-modal\">\r\n        <div class=\"tv-login\">\r\n            <div class=\"tv-cont\">\r\n                <img src=\"../../public/userlogo.png\" alt=\"\">\r\n                <h4>登录 Tv Media</h4>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"iptuser\">\r\n            <p>用户名</p>\r\n            <input v-bind:class=\"{ iptline: isActive,  }\" @focus=\"iptfocus\" @blur=\"iptblur\" type=\"text\"\r\n                v-model=\"username\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"\r\n                >\r\n        </div>\r\n\r\n        <div class=\"iptpswd\">\r\n            <p>密码</p>\r\n            <input v-bind:class=\"{iptline: isActive, }\" @focus=\"pswdfocus\" @blur=\"pswdblur\" type=\"password\"\r\n                v-model=\"password\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"\r\n                >\r\n                <!-- <input v-bind:class=\"{ pswdline: pswdActive, line: pswdLine }\" @focus=\"pswdfocus\" @blur=\"pswdblur\" type=\"text\"\r\n                v-model=\"password\"\r\n                @mouseenter=\"mouseenter($event)\"\r\n                @mouseleave=\"mouseleave($event)\"> -->\r\n                \r\n        </div>\r\n\r\n        <div class=\"login\" @click=\"submitForm\">登录</div>\r\n        <div class=\"regbottom\" @click=\"linkreg\">没有账户？ 注册</div>\r\n\r\n        <!-- <h2>vuex 中数据{{ $store.state.vuserid }}</h2>\r\n            <h3>计算属性获取显示{{ getid }}</h3>\r\n            <button @click=\"increment\">increment</button> -->\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport axios from 'axios';\r\nimport qs from 'qs'\r\nimport bus from '../Bus.js'\r\nimport { mapMutations } from \"vuex\";\r\n\r\nimport store from '@/store/index'\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            isActive: false,\r\n            isLine: false,\r\n            pswdActive: false,\r\n            pswdLine: false,\r\n            reg: /^[a-zA-Z0-9]{6,12}$/,\r\n        }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n        getid() {\r\n            return this.$store.state.vuserid\r\n        },\r\n\r\n    },\r\n    methods: {\r\n        ...mapMutations([\"user_login\"]),\r\n        mouseenter($event){\r\n            if(!this.isActive ){\r\n                // console.log($event.currentTarget.className=\" iptline\",'1111111111111111111');\r\n                // console.log($event.currentTarget.className=\" pswdline\",'1111111111111111111');\r\n            }else{\r\n                // console.log($event.currentTarget.className=\"active\");\r\n                // console.log($event.currentTarget.className=\" active\",'1111111111111111111');\r\n\r\n            }\r\n           \r\n        },\r\n        mouseleave($event){\r\n            // if(this.isActive == false){\r\n            //     console.log($event.currentTarget.className=\"\",'删除active');\r\n            //     // console.log($event.currentTarget.className=\"\",'删除active');\r\n            // }\r\n        },\r\n        increment() {\r\n            this.$store.state.vuserid += 1\r\n        },\r\n        iptfocus() {\r\n            this.isActive = !this.isActive\r\n        },\r\n        iptblur() {\r\n           \r\n            this.isActive = !this.isActive\r\n        },\r\n        pswdfocus() {\r\n            this.pswdActive = !this.pswdActive\r\n          \r\n\r\n        },\r\n        pswdblur() {\r\n            this.pswdActive = !this.pswdActive\r\n        },\r\n        submitForm() {\r\n            let params = {\r\n                user: this.username,\r\n                pswd: this.password\r\n            }\r\n            if (this.reg.test(params.user)) {\r\n                if (this.reg.test(params.pswd)) {\r\n                    axios.post('http://localhost:3000/login', qs.stringify(params)).then(res => {\r\n                        let data = res.data\r\n                        console.log('datadatadatadatadatadata',data);\r\n                        if (data.code == 0) {\r\n                            this.$message.error(data.data.msg);\r\n                        } else if (data.code == 2) {\r\n                            this.$message.error(data.data.msg);\r\n                        } else if (data.code == 1) {\r\n                            this.user_login(res.data);\r\n                            this.$message({\r\n                                message: '登陆成功',\r\n                                type: 'success'\r\n                            });\r\n                            this.$router.push({\r\n                                name: 'Index'\r\n                            })\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.$message({\r\n                        message: '请输入六到十二以上密码',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n            } else {\r\n                this.$message({\r\n                    message: '请输入六到十二以上账号',\r\n                    type: 'warning'\r\n                });\r\n            }\r\n        },\r\n        linkreg() {\r\n            this.$router.push({\r\n                name: 'Register'\r\n            })\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        console.log('this', this);\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.active{\r\n    box-shadow: inset 0 0 0 2px hsla(240,8%,88%,.4) !important;\r\n}\r\n.tv-login {\r\n    width: 440px;\r\n    height: 55px;\r\n    margin: 0 auto 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.tv-login .tv-cont {\r\n    display: inline-flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.tv-login .tv-cont h4 {\r\n    margin: 0px;\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    margin-left: 20px;\r\n}\r\n\r\n.tv-login .tv-cont img {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n.passport-modal {\r\n    width: 440px;\r\n    height: 340px;\r\n    position: absolute;\r\n    background: #18181B;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    padding: 30px;\r\n}\r\n\r\n.iptuser input {\r\n    width: 440px;\r\n    height: 30px;\r\n    padding: 0px;\r\n    border-radius: 3px;\r\n    border: 0px;\r\n    box-shadow: inset 0 0 0 1px hsla(240,8%,88%,.4);\r\n    background-color: #18181B;\r\n    outline: none;\r\n    text-indent: 0px;\r\n    color:#fff;\r\n}\r\n\r\np {\r\n    width: 440px;\r\n    margin: 22px auto 8px;\r\n    text-align: left;\r\n    color: #f7f7f8;\r\n    font-weight: 800;\r\n    font-size: 13px;\r\n}\r\n\r\n.iptpswd input {\r\n    width: 440px;\r\n    height: 30px;\r\n    padding: 0px;\r\n    border-radius: 3px;\r\n    border: 0px;\r\n    box-shadow: inset 0 0 0 0.4px #dedee3;\r\n    background-color: #18181B;\r\n    outline: none;\r\n    text-indent: 0px;\r\n    color:#fff;\r\n}\r\n\r\n.iptline {\r\n    outline: 4px solid #A970FF !important;\r\n    border: 5px solid red;\r\n}\r\n\r\n.pswdline {\r\n    outline: 4px solid #A970FF !important;\r\n    border: 5px solid red;\r\n}\r\n/* \r\n.iptuser input:hover {\r\n    box-shadow: inset 0 0 0 1.3px #dedee3;\r\n} */\r\n\r\n.iptpswd input:hover {\r\n    box-shadow: inset 0 0 0 1.3px #dedee3;\r\n}\r\n\r\n.login {\r\n    width: 440px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    border-radius: 5px;\r\n    margin: 30px auto 0px;\r\n    background: #232328;\r\n    opacity: 0.5;\r\n    font-size: 13px;\r\n    color: #adadb8;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n}\r\n\r\n.regbottom {\r\n    width: 440px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    color: #bf94ff;\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    margin: 20px auto 0px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.regbottom:hover {\r\n    background: #35353B;\r\n    border-radius: 5px;\r\n    color: #fff;\r\n}\r\n</style>\r\n  "],"mappings":";OAIqBA,UAA+B;;;EAH3CC,KAAK,EAAC;AAAgB;gEACvBC,mBAAA,CAKM;EALDD,KAAK,EAAC;AAAU,I,aACjBC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAS,I,aAChBC,mBAAA,CAA4C;EAAvCC,GAA+B,EAA/BH,UAA+B;EAACI,GAAG,EAAC;iBACzCF,mBAAA,CAAoB,YAAhB,aAAW,E;;EAIlBD,KAAK,EAAC;AAAS;gEAChBC,mBAAA,CAAU,WAAP,KAAG;;EAQLD,KAAK,EAAC;AAAS;gEAChBC,mBAAA,CAAS,WAAN,IAAE;;;uBAlBbG,mBAAA,CAsCM,OAtCNC,UAsCM,GArCFC,UAKM,EAENL,mBAAA,CAOM,OAPNM,UAOM,GANFC,UAAU,E,gBACVP,mBAAA,CAIK;IAJSD,KAAK,EAAAS,eAAA;MAAAC,OAAA,EAAaC,KAAA,CAAAC;IAAQ;IAAOC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;IAAGG,MAAI,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,OAAA,IAAAH,QAAA,CAAAG,OAAA,IAAAJ,IAAA,CAAO;IAAEK,IAAI,EAAC,MAAM;+DAC9ET,KAAA,CAAAU,QAAQ,GAAAC,MAAA;IAChBC,YAAU,EAAAT,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEN,QAAA,CAAAQ,UAAU,CAACF,MAAM;IAC7BG,YAAU,EAAAX,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEN,QAAA,CAAAU,UAAU,CAACJ,MAAM;2DAFrBX,KAAA,CAAAU,QAAQ,E,KAMzBpB,mBAAA,CAYM,OAZN0B,UAYM,GAXFC,UAAS,E,gBACT3B,mBAAA,CAIK;IAJSD,KAAK,EAAAS,eAAA;MAAAC,OAAA,EAAYC,KAAA,CAAAC;IAAQ;IAAMC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAa,SAAA,IAAAb,QAAA,CAAAa,SAAA,IAAAd,IAAA,CAAS;IAAGG,MAAI,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAc,QAAA,IAAAd,QAAA,CAAAc,QAAA,IAAAf,IAAA,CAAQ;IAAEK,IAAI,EAAC,UAAU;+DAClFT,KAAA,CAAAoB,QAAQ,GAAAT,MAAA;IAChBC,YAAU,EAAAT,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEN,QAAA,CAAAQ,UAAU,CAACF,MAAM;IAC7BG,YAAU,EAAAX,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEN,QAAA,CAAAU,UAAU,CAACJ,MAAM;2DAFrBX,KAAA,CAAAoB,QAAQ,E,GAIjBC,mBAAA,iRAGqC,C,GAI7C/B,mBAAA,CAA+C;IAA1CD,KAAK,EAAC,OAAO;IAAEiC,OAAK,EAAAnB,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAkB,UAAA,IAAAlB,QAAA,CAAAkB,UAAA,IAAAnB,IAAA,CAAU;KAAE,IAAE,GACzCd,mBAAA,CAAsD;IAAjDD,KAAK,EAAC,WAAW;IAAEiC,OAAK,EAAAnB,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAmB,OAAA,IAAAnB,QAAA,CAAAmB,OAAA,IAAApB,IAAA,CAAO;KAAE,UAAQ,GAEhDiB,mBAAA,4JAEqD,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}